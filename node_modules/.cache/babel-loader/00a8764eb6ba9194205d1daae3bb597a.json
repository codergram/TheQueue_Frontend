{"ast":null,"code":"import _toConsumableArray from\"/var/www/html/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _slicedToArray from\"/var/www/html/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from\"react\";import{// BrowserRouter as Router,\nSwitch,Route,// Link,\n// NavLink,\n// Redirect,\n// useLocation,\n// Prompt,\n// useRouteMatch,\n// useParams,\nuseHistory}from\"react-router-dom\";import Logo from\"./components/Logo.component\";import Header from\"./components/Header.component\";import Uddannelse from\"./components/Uddannelse.component\";import Semester from\"./components/Semester.component\";import Queue from\"./components/Queue.component\";import Home from\"./components/Home.component\";import NoMatch from\"./components/NoMatch.component\";import Login from\"./components/Login.component\";// import PrivateRoute from \"./components/PrivateRoute.component\";\nimport\"./App.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function App(props){var defaultList=[];var facade=props.facade,utils=props.utils;var _useState=useState([].concat(defaultList)),_useState2=_slicedToArray(_useState,2),schoolData=_useState2[0],setSchoolData=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),isLoggedIn=_useState4[0],setIsLoggedIn=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),displayError=_useState6[0],setDisplayError=_useState6[1];var history=useHistory();useEffect(function(){facade.getData(function(data){console.log(data);setSchoolData(_toConsumableArray(data));});},[]);var setLoginStatus=function setLoginStatus(status,pageToGoTo){// console.log(pageToGoTo)\n//Redurect to home if logut is pressed ==> pageToGoTo === \"undefined\"\nif(typeof pageToGoTo===\"undefined\"){pageToGoTo=\"/\";// console.log(pageToGoTo)\n}setIsLoggedIn(status);history.push(pageToGoTo);};var login=function login(user,pass,from){/*TODO*/utils.login(user,pass).then(function(res){setLoginStatus(true,from);//setIsLoggedIn(true);\nsetDisplayError(\"\");}).catch(function(error){error.fullError.then(function(errorMsg){console.log(errorMsg);setDisplayError(// \"Error: Status: \" +\n//   errorMsg.code +\n//   \" -  Message: \" +\nerrorMsg.message);});});};var clearError=function clearError(){setDisplayError(\"\");};return/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(Logo,{}),/*#__PURE__*/_jsx(Header,{loginMsg:isLoggedIn?\"Logout\":\"Login\",isLoggedIn:isLoggedIn}),/*#__PURE__*/_jsxs(Switch,{children:[/*#__PURE__*/_jsx(Route,{exact:true,path:\"/\",children:/*#__PURE__*/_jsx(Home,{utils:utils,facade:facade,isLoggedIn:isLoggedIn,schoolData:schoolData})}),schoolData.map(function(school){return/*#__PURE__*/_jsx(Route,{exact:true,path:\"/\"+school.name,children:/*#__PURE__*/_jsx(Uddannelse,{uddannelse:schoolData.find(function(s){return s.name===school.name;}),schoolName:school.name,facade:facade})},school.id);}),schoolData.map(function(school){return school.educations.map(function(udd){return/*#__PURE__*/ (// console.log(`/` + school.name + `/` + udd.name)\n_jsx(Route,{exact:true,path:\"/\"+school.name+\"/\"+udd.name,children:/*#__PURE__*/_jsx(Semester,{uddannelse:schoolData.find(function(s){return s.name===school.name;}),schoolName:school.name,uddName:udd.name,facade:facade})},udd.id));});}),schoolData.map(function(school){return school.educations.map(function(udd){return udd.semesters.map(function(semester){return/*#__PURE__*/ (// console.log(`/` + school.name + `/` + udd.name + `/` + semester.name)\n_jsx(Route,{exact:true,path:\"/\"+school.name+\"/\"+udd.name+\"/\"+semester.name,children:/*#__PURE__*/_jsx(Queue,{schoolName:school.name,schoolId:school.id,uddName:udd.name,uddId:udd.id,semesterName:semester.name,semesterId:semester.id,facade:facade,isLoggedIn:isLoggedIn})},semester.id));});});}),/*#__PURE__*/_jsx(Route,{path:\"/login-out\",children:/*#__PURE__*/_jsx(Login,{loginMsg:isLoggedIn?\"Logout\":\"Login\",isLoggedIn:isLoggedIn,setLoginStatus:setLoginStatus,utils:utils,login:login,displayError:displayError,clearError:clearError})}),/*#__PURE__*/_jsx(Route,{path:\"*\",children:/*#__PURE__*/_jsx(NoMatch,{})})]})]});}export default App;","map":{"version":3,"names":["React","useState","useEffect","Switch","Route","useHistory","Logo","Header","Uddannelse","Semester","Queue","Home","NoMatch","Login","App","props","defaultList","facade","utils","schoolData","setSchoolData","isLoggedIn","setIsLoggedIn","displayError","setDisplayError","history","getData","data","console","log","setLoginStatus","status","pageToGoTo","push","login","user","pass","from","then","res","catch","error","fullError","errorMsg","message","clearError","map","school","name","find","s","id","educations","udd","semesters","semester"],"sources":["/var/www/html/src/App.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport {\n  // BrowserRouter as Router,\n  Switch,\n  Route,\n  // Link,\n  // NavLink,\n  // Redirect,\n  // useLocation,\n  // Prompt,\n  // useRouteMatch,\n  // useParams,\n  useHistory,\n} from \"react-router-dom\";\nimport Logo from \"./components/Logo.component\";\nimport Header from \"./components/Header.component\";\nimport Uddannelse from \"./components/Uddannelse.component\";\nimport Semester from \"./components/Semester.component\";\nimport Queue from \"./components/Queue.component\";\n\nimport Home from \"./components/Home.component\";\n\n\nimport NoMatch from \"./components/NoMatch.component\";\nimport Login from \"./components/Login.component\";\n// import PrivateRoute from \"./components/PrivateRoute.component\";\nimport \"./App.css\";\n\nfunction App(props) {\n  const defaultList = [];\n  const { facade, utils } = props;\n  const [schoolData, setSchoolData] = useState([...defaultList]);\n\n  const [isLoggedIn, setIsLoggedIn] = useState(false);\n  const [displayError, setDisplayError] = useState(\"\");\n  let history = useHistory();\n\n  useEffect(() => {\n    facade.getData((data) => {\n      console.log(data);\n      setSchoolData([...data]);\n    });\n  }, []);\n\n  const setLoginStatus = (status, pageToGoTo) => {\n    // console.log(pageToGoTo)\n    //Redurect to home if logut is pressed ==> pageToGoTo === \"undefined\"\n    if (typeof pageToGoTo === \"undefined\") {\n      pageToGoTo = \"/\";\n      // console.log(pageToGoTo)\n    }\n    setIsLoggedIn(status);\n    history.push(pageToGoTo);\n  };\n\n  const login = (user, pass, from) => {\n    /*TODO*/\n    utils\n      .login(user, pass)\n      .then((res) => {\n        setLoginStatus(true, from);\n        //setIsLoggedIn(true);\n        setDisplayError(\"\");\n      })\n      .catch((error) => {\n        error.fullError.then((errorMsg) => {\n          console.log(errorMsg);\n          setDisplayError(\n            // \"Error: Status: \" +\n            //   errorMsg.code +\n            //   \" -  Message: \" +\n            errorMsg.message\n          );\n        });\n      });\n  };\n\n  const clearError = () => {\n    setDisplayError(\"\");\n  };\n\n  return (\n    <div className=\"container\">\n      {/* {console.log(schoolData)} */}\n      {/* {console.log(props.bookFacade.getBooks)} */}\n      <Logo />\n      <Header\n        loginMsg={isLoggedIn ? \"Logout\" : \"Login\"}\n        isLoggedIn={isLoggedIn}\n      />\n\n      <Switch>\n        <Route exact path=\"/\">\n          <Home\n            utils={utils}\n            facade={facade}\n            isLoggedIn={isLoggedIn}\n            schoolData={schoolData}\n          />\n        </Route>\n\n        {/* Home Page Option */}\n        {schoolData.map((school) => (\n          <Route exact path={`/` + school.name} key={school.id}>\n            <Uddannelse\n              uddannelse={schoolData.find((s) => s.name === school.name)}\n              schoolName={school.name}\n              facade={facade}\n            />\n          </Route>\n        ))}\n\n        {/* Udd Page Option */}\n        {schoolData.map((school) =>\n          school.educations.map((udd) => (\n            // console.log(`/` + school.name + `/` + udd.name)\n            <Route exact path={`/` + school.name + `/` + udd.name} key={udd.id}>\n              <Semester\n                uddannelse={schoolData.find((s) => s.name === school.name)}\n                schoolName={school.name}\n                uddName={udd.name}\n                facade={facade}\n              />\n            </Route>\n          ))\n        )}\n\n        {/* Udd Page Option */}\n        {schoolData.map((school) =>\n          school.educations.map((udd) =>\n            udd.semesters.map((semester) => (\n              // console.log(`/` + school.name + `/` + udd.name + `/` + semester.name)\n              <Route\n                exact\n                path={`/` + school.name + `/` + udd.name + `/` + semester.name}\n                key={semester.id}\n              >\n                <Queue\n                  schoolName={school.name}\n                  schoolId={school.id}\n                  uddName={udd.name}\n                  uddId={udd.id}\n                  semesterName={semester.name}\n                  semesterId={semester.id}\n                  facade={facade}\n                  isLoggedIn={isLoggedIn}\n                />\n              </Route>\n            ))\n          )\n        )}\n\n        <Route path=\"/login-out\">\n          <Login\n            loginMsg={isLoggedIn ? \"Logout\" : \"Login\"}\n            isLoggedIn={isLoggedIn}\n            setLoginStatus={setLoginStatus}\n            utils={utils}\n            login={login}\n            displayError={displayError}\n            clearError={clearError}\n          />\n        </Route>\n\n        <Route path=\"*\">\n          <NoMatch />\n        </Route>\n      </Switch>\n    </div>\n  );\n}\n\nexport default App;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}