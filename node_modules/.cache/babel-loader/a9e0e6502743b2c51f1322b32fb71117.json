{"ast":null,"code":"import _defineProperty from\"/var/www/html/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"/var/www/html/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/var/www/html/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from\"react\";import{// BrowserRouter as Router,\n// Switch,\n// Route,\n// Link,\n// NavLink,\n// Redirect,\nuseLocation// Prompt,\n// useRouteMatch,\n// useParams,\n// useHistory,\n}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function Login(props){var loginMsg=props.loginMsg,isLoggedIn=props.isLoggedIn,setLoginStatus=props.setLoginStatus,utils=props.utils,login=props.login,displayError=props.displayError,clearError=props.clearError;var init={username:\"\",password:\"\"};var _useState=useState(init),_useState2=_slicedToArray(_useState,2),loginCredentials=_useState2[0],setLoginCredentials=_useState2[1];// const [error, setError] = useState(false);\nvar _useLocation=useLocation(),state=_useLocation.state;//Vi sætter den side vi gerne vil til, selv om vi ikke er logget ind\n//Logout sætter from til \"undefined\"\nvar from=state?state.from:\"/\";var performLogin=function performLogin(evt){evt.preventDefault();setTimeout(function(){clearError();},2500);login(loginCredentials.username,loginCredentials.password,from);};var onChange=function onChange(evt){setLoginCredentials(_objectSpread(_objectSpread({},loginCredentials),{},_defineProperty({},evt.target.id,evt.target.value)));};// Logger selv ud når vi trykker på logout\nuseEffect(function(){if(isLoggedIn){utils.logout();setLoginStatus(!isLoggedIn);}},[]);return/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-sm-2 text-center\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-sm-8 text-center\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Underviser Login\"}),/*#__PURE__*/_jsxs(\"form\",{onChange:onChange,children:[/*#__PURE__*/_jsx(\"input\",{className:\"form-control\",placeholder:\"Skriv email...\",type:\"text\",id:\"username\"}),\" \",/*#__PURE__*/_jsx(\"input\",{className:\"form-control\",placeholder:\"Skriv kodeord...\",type:\"password\",id:\"password\"}),\" \",/*#__PURE__*/_jsx(\"p\",{}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-primary\",onClick:performLogin,children:loginMsg}),console.log(displayError),displayError.length>0?/*#__PURE__*/_jsx(\"p\",{className:\"alert alert-danger\",style:{width:\"415px\"},children:displayError}):\"\"]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"col-sm-2 text-center\"})]})});}","map":{"version":3,"names":["React","useState","useEffect","useLocation","Login","props","loginMsg","isLoggedIn","setLoginStatus","utils","login","displayError","clearError","init","username","password","loginCredentials","setLoginCredentials","state","from","performLogin","evt","preventDefault","setTimeout","onChange","target","id","value","logout","console","log","length","width"],"sources":["/var/www/html/src/components/Login.component.jsx"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport {\n  // BrowserRouter as Router,\n  // Switch,\n  // Route,\n  // Link,\n  // NavLink,\n  // Redirect,\n  useLocation,\n  // Prompt,\n  // useRouteMatch,\n  // useParams,\n  // useHistory,\n} from \"react-router-dom\";\n\nexport default function Login(props) {\n  const {\n    loginMsg,\n    isLoggedIn,\n    setLoginStatus,\n    utils,\n    login,\n    displayError,\n    clearError,\n  } = props;\n\n  const init = { username: \"\", password: \"\" };\n  const [loginCredentials, setLoginCredentials] = useState(init);\n  // const [error, setError] = useState(false);\n\n  const { state } = useLocation();\n  //Vi sætter den side vi gerne vil til, selv om vi ikke er logget ind\n  //Logout sætter from til \"undefined\"\n  const from = state ? state.from : \"/\";\n\n  const performLogin = (evt) => {\n    evt.preventDefault();\n    setTimeout(function () {\n      clearError();\n    }, 2500);\n    login(loginCredentials.username, loginCredentials.password, from);\n  };\n\n  const onChange = (evt) => {\n    setLoginCredentials({\n      ...loginCredentials,\n      [evt.target.id]: evt.target.value,\n    });\n  };\n\n  // Logger selv ud når vi trykker på logout\n  useEffect(() => {\n    if (isLoggedIn) {\n      utils.logout();\n      setLoginStatus(!isLoggedIn);\n    }\n  }, []);\n\n  return (\n    <div className=\"container\">\n      {/* {console.log(utils)} */}\n      <div className=\"row\">\n        <div className=\"col-sm-2 text-center\"></div>\n        <div className=\"col-sm-8 text-center\">\n        <h2>Underviser Login</h2>\n          <form onChange={onChange}>\n            <input className=\"form-control\" placeholder=\"Skriv email...\" type=\"text\" id=\"username\" />{\" \"}\n            <input className=\"form-control\" placeholder=\"Skriv kodeord...\" type=\"password\" id=\"password\" />{\" \"}\n            <p></p>\n            <button className=\"btn btn-primary\" onClick={performLogin}>{loginMsg}</button>\n            {console.log(displayError)}\n            {displayError.length > 0 ? (\n              <p className=\"alert alert-danger\" style={{ width: \"415px\" }}>\n                {displayError}\n              </p>\n            ) : (\n              \"\"\n            )}\n          </form>\n        </div>\n        <div className=\"col-sm-2 text-center\"></div>\n      </div>\n    </div>\n  );\n}\n"],"mappings":"0SAAA,MAAOA,MAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,KAA2C,OAA3C,CACA,OACE;AACA;AACA;AACA;AACA;AACA;AACAC,WACA;AACA;AACA;AACA;AAXF,KAYO,kBAZP,C,wFAcA,cAAe,SAASC,MAAT,CAAeC,KAAf,CAAsB,CACnC,GACEC,SADF,CAQID,KARJ,CACEC,QADF,CAEEC,UAFF,CAQIF,KARJ,CAEEE,UAFF,CAGEC,cAHF,CAQIH,KARJ,CAGEG,cAHF,CAIEC,KAJF,CAQIJ,KARJ,CAIEI,KAJF,CAKEC,KALF,CAQIL,KARJ,CAKEK,KALF,CAMEC,YANF,CAQIN,KARJ,CAMEM,YANF,CAOEC,UAPF,CAQIP,KARJ,CAOEO,UAPF,CAUA,GAAMC,KAAI,CAAG,CAAEC,QAAQ,CAAE,EAAZ,CAAgBC,QAAQ,CAAE,EAA1B,CAAb,CACA,cAAgDd,QAAQ,CAACY,IAAD,CAAxD,wCAAOG,gBAAP,eAAyBC,mBAAzB,eACA;AAEA,iBAAkBd,WAAW,EAA7B,CAAQe,KAAR,cAAQA,KAAR,CACA;AACA;AACA,GAAMC,KAAI,CAAGD,KAAK,CAAGA,KAAK,CAACC,IAAT,CAAgB,GAAlC,CAEA,GAAMC,aAAY,CAAG,QAAfA,aAAe,CAACC,GAAD,CAAS,CAC5BA,GAAG,CAACC,cAAJ,GACAC,UAAU,CAAC,UAAY,CACrBX,UAAU,GACX,CAFS,CAEP,IAFO,CAAV,CAGAF,KAAK,CAACM,gBAAgB,CAACF,QAAlB,CAA4BE,gBAAgB,CAACD,QAA7C,CAAuDI,IAAvD,CAAL,CACD,CAND,CAQA,GAAMK,SAAQ,CAAG,QAAXA,SAAW,CAACH,GAAD,CAAS,CACxBJ,mBAAmB,gCACdD,gBADc,wBAEhBK,GAAG,CAACI,MAAJ,CAAWC,EAFK,CAEAL,GAAG,CAACI,MAAJ,CAAWE,KAFX,GAAnB,CAID,CALD,CAOA;AACAzB,SAAS,CAAC,UAAM,CACd,GAAIK,UAAJ,CAAgB,CACdE,KAAK,CAACmB,MAAN,GACApB,cAAc,CAAC,CAACD,UAAF,CAAd,CACD,CACF,CALQ,CAKN,EALM,CAAT,CAOA,mBACE,YAAK,SAAS,CAAC,WAAf,uBAEE,aAAK,SAAS,CAAC,KAAf,wBACE,YAAK,SAAS,CAAC,sBAAf,EADF,cAEE,aAAK,SAAS,CAAC,sBAAf,wBACA,wCADA,cAEE,cAAM,QAAQ,CAAEiB,QAAhB,wBACE,cAAO,SAAS,CAAC,cAAjB,CAAgC,WAAW,CAAC,gBAA5C,CAA6D,IAAI,CAAC,MAAlE,CAAyE,EAAE,CAAC,UAA5E,EADF,CAC4F,GAD5F,cAEE,cAAO,SAAS,CAAC,cAAjB,CAAgC,WAAW,CAAC,kBAA5C,CAA+D,IAAI,CAAC,UAApE,CAA+E,EAAE,CAAC,UAAlF,EAFF,CAEkG,GAFlG,cAGE,YAHF,cAIE,eAAQ,SAAS,CAAC,iBAAlB,CAAoC,OAAO,CAAEJ,YAA7C,UAA4Dd,QAA5D,EAJF,CAKGuB,OAAO,CAACC,GAAR,CAAYnB,YAAZ,CALH,CAMGA,YAAY,CAACoB,MAAb,CAAsB,CAAtB,cACC,UAAG,SAAS,CAAC,oBAAb,CAAkC,KAAK,CAAE,CAAEC,KAAK,CAAE,OAAT,CAAzC,UACGrB,YADH,EADD,CAKC,EAXJ,GAFF,GAFF,cAmBE,YAAK,SAAS,CAAC,sBAAf,EAnBF,GAFF,EADF,CA0BD"},"metadata":{},"sourceType":"module"}